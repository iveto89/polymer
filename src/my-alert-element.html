<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<body>
    <my-alert-element></my-alert-element>
    <dom-module id="my-alert-element">
        <template>
            <paper-input value="{{message}}"></paper-input>
            [[message]]
            <div>{{task.text}}</div>
            <input value="{{message::input}}"/>
        </template>
    </dom-module>
    <script>
        Polymer({
            is: 'my-alert-element',
            properties: {
                message: {
                    type: String,
                    value: "Hello everybody!",
                    reflectToAttribute: true,
                    notify: true,
//                    readOnly: true //change from the host to the element only once
                },
                task: {
                    type: Object,
                    value: function() {
                        return {
                            text: 'You have completed this task successfully!',
                            status: 'success'
                        }
                    }
                },

                alertUpdateTime: {
                    type: Date,
                    value: function() {
                        return new Date();
                    },
                    reflectToAttribute: true
                },
                isSuccess: {
                    type: Boolean,
                    value: true,
                    reflectToAttribute: true
                }
            },
            ready: function() {
                this.addEventListener("message-changed", function(event) {
                    console.log(event);
                });
//                this.task.text = "Successfully loaded!";
//                this.notifyPath("task.text", "Successfully loaded!"); //update one property

                //this.task = {text: "Successfully loaded!", status: "success"}; //update whole object

                this.set("task.text", "Successfully loaded!"); //update one property

            }

        })
    </script>
</body>