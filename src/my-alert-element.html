<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<body>
    <my-alert-element></my-alert-element>
    <dom-module id="my-alert-element">
        <template>
            <paper-input value="{{message}}"></paper-input>
            [[message]]
            <div>{{task.text}}</div>
            <div style$="{{textStyle}}">
                <input value="{{message::input}}"/>
            </div>

            <input type="checkbox" checked$="{{messageChecked}}">
            <div style$="{{messageStyle}}">
                <div class$="{{messageClass}}">
                    <a href$="{{messageUrl}}">
                        <label for$="{{messageLabel}}">Label</label>
                            <div data-bar$="{{messageLabel}}">Data-bar</div>
                    </a>
                </div>
            </div>

        </template>
    </dom-module>
    <script>
        Polymer({
            is: 'my-alert-element',
            properties: {
                message: {
                    type: String,
                    value: "Hello everybody!",
                    reflectToAttribute: true,
                    notify: true,
//                    readOnly: true //change from the host to the element only once
                },
                task: {
                    type: Object,
                    value: function() {
                        return {
                            text: 'You have completed this task successfully!',
                            status: 'success'
                        }
                    }
                },

                alertUpdateTime: {
                    type: Date,
                    value: function() {
                        return new Date();
                    },
                    reflectToAttribute: true
                },
                isSuccess: {
                    type: Boolean,
                    value: true,
                    reflectToAttribute: true
                },

                messageClass: {
                    type: String,
                    value: "m-class"
                },
                messageChecked: {
                    type: Boolean,
                    value: true
                },
                messageUrl:{
                    stype: String,
                    value: "http://pluralsight.com"
                },
                messageStyle:{
                    type: String,
                    value: 'background-color: #efefef;'
                },
                messageLabel:{
                    type: String,
                    value: "message-label"
                },
                textStyle: {
                    type: String,
                    value: 'width:100%;'
                }
            },
            ready: function() {
                this.addEventListener("message-changed", function(event) {
                    console.log(event);
                });
//                this.task.text = "Successfully loaded!";
//                this.notifyPath("task.text", "Successfully loaded!"); //update one property

                //this.task = {text: "Successfully loaded!", status: "success"}; //update whole object

                this.set("task.text", "Successfully loaded!"); //update one property

            }

        })
    </script>
</body>